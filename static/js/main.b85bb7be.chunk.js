(this["webpackJsonprocketlane-task"]=this["webpackJsonprocketlane-task"]||[]).push([[0],{128:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),o=n(30),s=n(93),u=n(31),l=n(26),m=n.n(l),d=n(50),_=n(43),p=n(91),f=n(94),h=n(133),v=n(134),b=n(69),E=n(135),j=n(92),O=n(137),R=n(136),g=n(24),w=n.n(g),k=function(e,t,n,a){return t[n].filter((function(e){return e.reaction_id===a})).map((function(t){var n=t.user_id;return e.find((function(e){return e.id===n}))}))},y=b.a.TabPane,C=function(e){var t=e.reactions,n=e.userReactedToContent,c=e.content_id,i=e.users,o=e.updateUserReactionOnEmoji,s=e.removeUserReactionOnEmoji,u=e.userHasReacted,l=Object(a.useState)(!1),m=Object(_.a)(l,2),d=m[0],p=m[1],f=u[c].hasReacted;return r.a.createElement("div",null,r.a.createElement("div",{className:w.a.container},r.a.createElement("div",{className:w.a.reactionsContainer},t.map((function(e){var t=e.id,n=e.name,a=e.emoji;return r.a.createElement(j.a,{overlayClassName:w.a.reactionsContainer__tooltip,color:"#161616",placement:"top",title:n,key:t},r.a.createElement("div",{key:t,onClick:function(){u[c].hasReacted?s(c):o(t,c)},className:w.a.reactionsContainer__emoji},a))}))),f&&r.a.createElement("span",{className:w.a.container__userReaction},r.a.createElement(j.a,{overlayClassName:w.a.reactionsContainer__tooltip,color:"#161616",placement:"top",title:"You reacted"},t.find((function(e){return e.id===u[c].reaction_id})).emoji))),r.a.createElement(O.a,{key:c,content:function(){return r.a.createElement("div",null,r.a.createElement(b.a,{size:"small",defaultActiveKey:t[0].id,onChange:function(){}},t.map((function(e){var t=e.id,a=e.emoji,o=k(i,n,c,t);return r.a.createElement(y,{disabled:!o.length,tab:"".concat(a," ").concat(o.length),key:t},function(e){return k(i,n,c,e).map((function(e){var t=e.id,n=e.avatar,a=e.first_name;return r.a.createElement("div",{key:t,className:w.a.container__userListItem},r.a.createElement("div",null,r.a.createElement("img",{style:{borderRadius:"50%",height:"35px",width:"35px"},src:n,alt:a}),r.a.createElement("span",{className:w.a.container__userListItem_name},a)),r.a.createElement("div",null,r.a.createElement(E.a,{type:"primary",icon:r.a.createElement(R.a,null)}," Add Friend ")))}))}(t))})),r.a.createElement(y,null,r.a.createElement("span",{tab:"x",onClick:function(){return p(!1)}}))))},trigger:"click",placement:"bottom",visible:d,onVisibleChange:function(e){return p(e)}},r.a.createElement("span",{className:w.a.container__userReactedTabsClick},n[c].length," others reacted")))},x=h.a.Meta,N=function(e){var t=e.id,n=e.title,a=e.img,c=e.description,i=e.content_id,o=e.reactionsWithUsers,s=o.reactions,u=void 0===s?[]:s,l=o.users,m=void 0===l?[]:l,d=e.loading,_=e.error,p=e.userReactedToContent,f=e.updateUserReactionOnEmoji,b=e.removeUserReactionOnEmoji,E=e.userHasReacted,j=!(u.length&&m.length&&p[i]);return r.a.createElement(h.a,{key:t,hoverable:!0,style:{width:350},cover:r.a.createElement("img",{alt:n,width:300,height:300,src:a})},r.a.createElement(x,{title:n,description:c}),r.a.createElement("p",null,_&&"Something went wrong!"),r.a.createElement(v.a,{loading:j,paragraph:{rows:1}},r.a.createElement(C,{reactions:u,loading:d,userReactedToContent:p,content_id:i,users:m,updateUserReactionOnEmoji:f,removeUserReactionOnEmoji:b,userHasReacted:E})))},U=function(e){var t=e.posts,n=Object(f.a)(e,["posts"]);return t.map((function(e){return r.a.createElement(N,Object.assign({},e,n))}))},I=[{id:2,content_id:2,img:"https://images.unsplash.com/photo-1503572327579-b5c6afe5c5c5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=311&q=80",title:"Statue of liberty",description:"www.facebook.com"},{id:3,content_id:1,img:"https://images.unsplash.com/photo-1592093506632-92ef342e2591?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=311&q=80",title:"LinkedIn SF office",description:"www.linkedin.com"}],S=n(90),T=n.n(S);var L=function(){var e=Object(p.b)("".concat("https://artful-iudex.herokuapp.com")),t=e.get,n=e.post,c=e.del,i=e.loading,l=e.error,f=Object(a.useState)({}),h=Object(_.a)(f,2),v=h[0],b=h[1],E=Object(a.useState)(null),j=Object(_.a)(E,2),O=j[0],R=j[1],g=Object(a.useState)(I.reduce((function(e,t){var n=t.content_id;return Object(u.a)({},e,Object(o.a)({},n,{hasReached:!1}))}),{})),w=Object(_.a)(g,2),k=w[0],y=w[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/reactions");case 2:return n=e.sent,e.next=5,t("/users");case 5:a=e.sent,b({reactions:n,users:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),C()}),[]);var C=function(){var e=Object(d.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/user_content_reactions");case 2:n=e.sent,R(n.reduce((function(e,t){return Object(u.a)({},e,Object(o.a)({},t.content_id,Object(s.a)(n.filter((function(e){return e.content_id===t.content_id})))))}),{}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(m.a.mark((function e(t,a){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/user_content_reactions",{user_id:4,reaction_id:t,content_id:a});case 2:r=e.sent,y(Object(u.a)({},k,Object(o.a)({},r.content_id,Object(u.a)({},r,{hasReacted:!0})))),C();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k[t].id,e.next=3,c("/user_content_reactions/".concat(n));case 3:y(Object(u.a)({},k,Object(o.a)({},t,Object(u.a)({},k[t],{hasReacted:!1})))),C();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:T.a.app},r.a.createElement(U,{posts:I,reactionsWithUsers:v,loading:i,error:l,getReactionsForContentId:C,userReactedToContent:O,updateUserReactionOnEmoji:x,removeUserReactionOnEmoji:N,userHasReacted:k}))};n(128),n(129),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,n){e.exports={reactionsContainer:"Reactions_reactionsContainer__3xNvf",reactionsContainer__emoji:"Reactions_reactionsContainer__emoji__3Yn_x",reactionsContainer__tooltip:"Reactions_reactionsContainer__tooltip__1Nm6f",container:"Reactions_container__1fpxE",container__userReaction:"Reactions_container__userReaction__2M5kP",container__userListItem:"Reactions_container__userListItem__2m0MK",container__userListItem_name:"Reactions_container__userListItem_name__3ZPoe",container__userReactedTabsClick:"Reactions_container__userReactedTabsClick__3R0O1"}},90:function(e,t,n){e.exports={app:"App_app__2ziFi"}},97:function(e,t,n){e.exports=n(130)}},[[97,1,2]]]);
//# sourceMappingURL=main.b85bb7be.chunk.js.map