(this["webpackJsonprocketlane-task"]=this["webpackJsonprocketlane-task"]||[]).push([[0],{128:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),o=n(39),s=n(93),u=n(59),l=n(25),m=n.n(l),d=n(49),p=n(42),_=n(91),f=n(94),h=n(133),v=n(134),b=n(69),E=n(135),j=n(92),g=n(137),O=n(136),C=n(31),w=n.n(C),k=function(e,t,n,a){return t[n].filter((function(e){return e.reaction_id===a})).map((function(t){var n=t.user_id;return e.find((function(e){return e.id===n}))}))},R=b.a.TabPane,y=function(e){var t=e.reactions,n=e.userReactedToContent,i=e.content_id,c=e.users,o=e.updateUserReactionOnEmoji,s=e.removeUserReactionOnEmoji,u=e.userHasReacted,l=Object(a.useState)(!1),m=Object(p.a)(l,2),d=m[0],_=m[1];return r.a.createElement("div",{className:w.a.reactionsContainer},r.a.createElement("div",null,t.map((function(e){var t=e.id,n=e.name,a=e.emoji;return r.a.createElement(j.a,{overlayClassName:w.a.reactionsContainer__tooltip,color:"#161616",placement:"top",title:n,key:t},r.a.createElement("div",{key:t,onClick:function(){u[i]?s():o(t,i)},className:w.a.reactionsContainer__emoji},a))}))),r.a.createElement(g.a,{key:i,content:function(){return r.a.createElement("div",null,r.a.createElement(b.a,{size:"small",defaultActiveKey:t[0].id,onChange:function(){}},t.map((function(e){var t=e.id,a=e.emoji,o=k(c,n,i,t);return r.a.createElement(R,{disabled:!o.length,tab:"".concat(a," ").concat(o.length),key:t},function(e){return k(c,n,i,e).map((function(e){var t=e.id,n=e.avatar,a=e.first_name;return r.a.createElement("div",{key:t,className:w.a.reactionsContainer__userListItem},r.a.createElement("div",null,r.a.createElement("img",{style:{borderRadius:"50%",height:"35px",width:"35px"},src:n,alt:a}),r.a.createElement("span",{className:w.a.reactionsContainer__userListItem_name},a)),r.a.createElement("div",null,r.a.createElement(E.a,{type:"primary",icon:r.a.createElement(O.a,null)}," Add Friend ")))}))}(t))})),r.a.createElement(R,null,r.a.createElement("span",{tab:"x",onClick:function(){return _(!1)}}))))},trigger:"click",placement:"bottom",visible:d,onVisibleChange:function(e){return _(e)}},r.a.createElement("div",{className:w.a.reactionsContainer__userReactedTabsClick},u[i]&&r.a.createElement("span",null,"you and \xa0"),r.a.createElement("span",null,n[i].length," reacted"))))},x=h.a.Meta,U=function(e){var t=e.id,n=e.title,a=e.img,i=e.description,c=e.content_id,o=e.reactionsWithUsers,s=o.reactions,u=void 0===s?[]:s,l=o.users,m=void 0===l?[]:l,d=e.loading,p=e.error,_=e.userReactedToContent,f=e.updateUserReactionOnEmoji,b=e.removeUserReactionOnEmoji,E=e.userHasReacted,j=!(u.length&&m.length&&_[c]);return r.a.createElement(h.a,{key:t,hoverable:!0,style:{width:300},cover:r.a.createElement("img",{alt:n,width:300,height:300,src:a})},r.a.createElement(x,{title:n,description:i}),r.a.createElement("p",null,p&&"Something went wrong!"),r.a.createElement(v.a,{loading:j,paragraph:{rows:1}},r.a.createElement(y,{reactions:u,loading:d,userReactedToContent:_,content_id:c,users:m,updateUserReactionOnEmoji:f,removeUserReactionOnEmoji:b,userHasReacted:E})))},I=function(e){var t=e.posts,n=Object(f.a)(e,["posts"]);return t.map((function(e){return r.a.createElement(U,Object.assign({},e,n))}))},N=[{id:2,content_id:2,img:"https://images.unsplash.com/photo-1503572327579-b5c6afe5c5c5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=311&q=80",title:"Statue of liberty",description:"www.facebook.com"},{id:3,content_id:1,img:"https://images.unsplash.com/photo-1592093506632-92ef342e2591?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=311&q=80",title:"LinkedIn SF office",description:"www.linkedin.com"}],S=n(90),T=n.n(S);var L=function(){var e=Object(_.b)("".concat("https://artful-iudex.herokuapp.com")),t=e.get,n=e.post,i=e.del,c=e.loading,l=e.error,f=Object(a.useState)({}),h=Object(p.a)(f,2),v=h[0],b=h[1],E=Object(a.useState)(null),j=Object(p.a)(E,2),g=j[0],O=j[1],C=Object(a.useState)({}),w=Object(p.a)(C,2),k=w[0],R=w[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/reactions");case 2:return n=e.sent,e.next=5,t("/users");case 5:a=e.sent,b({reactions:n,users:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),y()}),[]);var y=function(){var e=Object(d.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/user_content_reactions");case 2:n=e.sent,O(n.reduce((function(e,t){return Object(u.a)({},e,Object(o.a)({},t.content_id,Object(s.a)(n.filter((function(e){return e.content_id===t.content_id})))))}),{}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(m.a.mark((function e(t,a){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/user_content_reactions",{user_id:4,reaction_id:t,content_id:a});case 2:r=e.sent,R(Object(u.a)({},r,Object(o.a)({},r.content_id,!0))),y();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("/user_content_reactions/".concat(k.id));case 2:R(Object(u.a)({},k,Object(o.a)({},k.content_id,!1))),y();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:T.a.app},r.a.createElement(I,{posts:N,reactionsWithUsers:v,loading:c,error:l,getReactionsForContentId:y,userReactedToContent:g,updateUserReactionOnEmoji:x,removeUserReactionOnEmoji:U,userHasReacted:k}))};n(128),n(129),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,n){e.exports={reactionsContainer:"Reactions_reactionsContainer__3xNvf",reactionsContainer__emoji:"Reactions_reactionsContainer__emoji__3Yn_x",reactionsContainer__userListItem:"Reactions_reactionsContainer__userListItem__1FZr5",reactionsContainer__userListItem_name:"Reactions_reactionsContainer__userListItem_name__tdJSr",reactionsContainer__tooltip:"Reactions_reactionsContainer__tooltip__1Nm6f",reactionsContainer__userReactedTabsClick:"Reactions_reactionsContainer__userReactedTabsClick__M53YP"}},90:function(e,t,n){e.exports={app:"App_app__2ziFi"}},97:function(e,t,n){e.exports=n(130)}},[[97,1,2]]]);
//# sourceMappingURL=main.720937de.chunk.js.map